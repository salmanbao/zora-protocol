# Create Onchain 1155 Contracts & Tokens

The Protocol SDK can be used to prepare transactions to create 1155 contracts and tokens, using the Creator Client.

## Setup/Create a Public Client

Initialize or get a `PublicClient` using viem or wagmi.  The chain id of the public client is used to determine the network to interact with.

:::code-group
```ts twoslash [viem.ts]
import { createPublicClient, http, Chain } from 'viem';
import { zora } from "viem/chains";

const publicClient = createPublicClient({ 
  chain: zora as Chain, 
  transport: http() 
});
```

```ts twoslash [react.tsx]
import { usePublicClient } from "wagmi";

const publicClient = usePublicClient();
```
:::

## Creating a new 1155 contract and token with Secondary Markets

The function `create1155` is used to create a new 1155 contract and token. By default, the token will be created with the [ZoraTimedSaleStrategyMinter](https://github.com/ourzora/zora-protocol/blob/main/packages/erc20z/src/minter/ZoraTimedSaleStrategyImpl.sol)
as the minter, meaning that after the primary sale is complete, [a secondary market powered by Uniswap will begin.](https://support.zora.co/en/articles/2519873)
The `contract` argument needs to be contract creation parameters.  Calling this function prepares a parameters for a transaction
that creates an 1155 contract at the deterministic address based on those parameters, and a token on that contract.



:::code-group

```ts twoslash [example.ts]
// @filename: config.ts
// [!include ~/snippets/protocol-sdk/create/config.ts]

// @filename: example.ts
// ---cut---
// [!include ~/snippets/protocol-sdk/create/createNew1155ContractOrToken.ts]
```

```ts twoslash [config.ts]
// [!include ~/snippets/protocol-sdk/create/config.ts]
```

:::

### Custom parameters for secondary markets

The following snippet shows the parameters for customizing the settings for the secondary market.

:::code-group

```ts twoslash [example.ts]
// @filename: config.ts
// [!include ~/snippets/protocol-sdk/create/config.ts]

// @filename: example.ts
// ---cut---
// [!include ~/snippets/protocol-sdk/create/createNew1155ContractOrTokenWithCustomParams.ts]
```

```ts twoslash [config.ts]
// [!include ~/snippets/protocol-sdk/create/config.ts]
```

:::

With the update to use the v2 sales config it introduces `marketCountdown` and `minimumMarketEth` in version 0.9.5 of the sdk.

## Configuring the backing ERC20 Token Name and Symbol for the 1155 Secondary Market

When leveraging the [secondary markets](https://support.zora.co/en/articles/2519873) feature, a backing ERC20 token is created with a name and symbol for each minted 1155.  
By default, the name is copied from the contract name, and the symbol is generated by converting the name into a 4 character symbol.  
Alternatively these can be manually set by configuring the `token.salesConfig.erc20Name` and `token.salesConfig.erc20Symbol` properties correspondingly:

:::code-group

```ts twoslash [example.ts]
// @filename: config.ts
// [!include ~/snippets/protocol-sdk/create/config.ts]

// @filename: example.ts
// ---cut---
// [!include ~/snippets/protocol-sdk/create/createNew1155TokenErc20zName.ts]
```

```ts twoslash [config.ts]
// [!include ~/snippets/protocol-sdk/create/config.ts]
```

:::


## Creating a token on an existing 1155 contract

To create a token on an existing 1155 contract, the function `create1155OnExistingContract` must be called
with the 1155 contract address and the token creation parameters.

:::code-group

```ts twoslash [example.ts]
// @filename: config.ts
// [!include ~/snippets/protocol-sdk/create/config.ts]

// @filename: createNewContract.ts
// [!include ~/snippets/protocol-sdk/create/createNewContract.ts]

// @filename: example.ts
// ---cut---
// [!include ~/snippets/protocol-sdk/create/createNew1155Token.ts]
```

```ts twoslash [createNewContract.ts]
// @filename: config.ts
// [!include ~/snippets/protocol-sdk/create/config.ts]

// @filename: createNewContract.ts
// ---cut---
// [!include ~/snippets/protocol-sdk/create/createNewContract.ts]
```

```ts twoslash [config.ts] filename="config.ts"
// [!include ~/snippets/protocol-sdk/create/config.ts]
```

:::

## Setting a price per token

A price per token can be optionally set to earn additional ETH on the primary sale when each token is minted, by setting `token.salesConfig.pricePerToken`.  
If the `pricePerToken` is set to more than 0, there will be no `creatorReward` earned on the mint fee. If a pricePerToken is set to more than 0, then the token is setup with the [ZoraCreatorFixedPriceSaleStrategy](https://github.com/ourzora/zora-protocol/blob/main/packages/1155-contracts/src/minters/fixed-price/ZoraCreatorFixedPriceSaleStrategy.sol) as its minter.
This will also result in not being able to [leverage the onchain secondary market feature](https://support.zora.co/en/articles/2519873) for tokens minted using
this minter.

:::code-group

```ts twoslash [example.ts]
// @filename: config.ts
// [!include ~/snippets/protocol-sdk/create/config.ts]

// @filename: example.ts
// ---cut---
// [!include ~/snippets/protocol-sdk/create/createNew1155WithPrice.ts]
```

```ts twoslash [config.ts]
// [!include ~/snippets/protocol-sdk/create/config.ts]
```

:::

## Minting a token after creating

Sometimes it is desired to be able to mint a token right after creating one.  This can be done with the function `prepareMint`
that is returned from the creation functions.  This function will prepare a transaction to mint a token on the token and/or contract that was created.
Note that this transaction can only be executed after the token has been created onchain.

:::code-group

```ts twoslash [example.ts]
// @filename: config.ts
// [!include ~/snippets/protocol-sdk/create/config.ts]

// @filename: createNewContract.ts
// [!include ~/snippets/protocol-sdk/create/createNewContract.ts]

// @filename: example.ts
// ---cut---
// [!include ~/snippets/protocol-sdk/create/mintFromCreate.ts]
```

```ts twoslash [createNewContract.ts]
// @filename: config.ts
// [!include ~/snippets/protocol-sdk/create/config.ts]

// @filename: createNewContract.ts
// ---cut---
// [!include ~/snippets/protocol-sdk/create/createNewContract.ts]
```

```ts twoslash [config.ts]
// [!include ~/snippets/protocol-sdk/create/config.ts]
```

:::